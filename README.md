# Tetris с элементами Tricky Towers

Многоязычная реализация игры Tetris с элементами физики из Tricky Towers, использующая 7 языков программирования и сложную архитектуру.

## Обзор проекта

Данный проект представляет собой уникальную реализацию классической игры Tetris с добавлением физики из Tricky Towers. Особенностью проекта является использование 7 различных языков программирования для разных компонентов системы:

1. **C++ (физический движок)** - реалистичная физика блоков, коллизии и гравитация
2. **Rust (серверная часть)** - координация всех компонентов, многопользовательский режим
3. **Python (игровая логика)** - правила игры, механики и игровые режимы
4. **TypeScript (клиентская часть)** - пользовательский интерфейс и визуализация
5. **Julia (ИИ система)** - искусственный интеллект для противников
6. **Go (инструменты разработки)** - утилиты для создания уровней и отладки
7. **Scala (система аналитики)** - сбор и анализ игровых данных

## Особенности игры

- **Реалистичная физика блоков**: блоки подчиняются законам физики, могут падать и разрушать конструкцию
- **Заклинания**: светлые и темные заклинания для укрепления башни или создания проблем противникам
- **Многопользовательский режим**: соревнование с другими игроками или ИИ
- **Различные режимы игры**: гонка, выживание и головоломка
- **Сложная многоязычная архитектура**: использование 7 различных языков программирования

## Быстрый старт с Docker Compose

Самый простой способ запустить игру - использовать Docker Compose:

```bash
# Клонировать репозиторий
git clone https://github.com/username/tetris-tricky-towers.git
cd tetris-tricky-towers

# Запустить все компоненты
docker-compose up
```

После запуска, игра будет доступна по адресу: http://localhost:3000

## Системные требования для Docker

- Docker 20.10 или выше
- Docker Compose 2.0 или выше
- 4 ГБ оперативной памяти
- 10 ГБ свободного места на диске
- Современный веб-браузер с поддержкой WebGL

## Ручная установка и запуск

Если вы предпочитаете установить и запустить игру без Docker, следуйте инструкциям для каждого компонента:

### 1. Установка зависимостей

#### Общие зависимости
```bash
# Linux (Ubuntu/Debian)
sudo apt-get update
sudo apt-get install -y build-essential cmake git

# macOS
brew install cmake git

# Windows
# Установите Git, CMake и Visual Studio с поддержкой C++
```

#### Специфические зависимости для каждого компонента

- **C++ физический движок**
  ```bash
  # Linux
  sudo apt-get install -y build-essential cmake
  
  # macOS
  brew install cmake
  
  # Windows
  # Установите CMake и Visual Studio с поддержкой C++
  ```

- **Rust серверная часть**
  ```bash
  # Все платформы
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
  source $HOME/.cargo/env
  ```

- **Python игровая логика**
  ```bash
  # Все платформы
  pip install -r src/python_logic/requirements.txt
  ```

- **TypeScript клиентская часть**
  ```bash
  # Все платформы
  cd src/typescript_client
  npm install
  ```

- **Julia ИИ система**
  ```bash
  # Все платформы
  # Установите Julia с официального сайта
  cd src/julia_ai
  julia -e 'using Pkg; Pkg.activate("."); Pkg.instantiate()'
  ```

- **Go инструменты разработки**
  ```bash
  # Все платформы
  # Установите Go с официального сайта
  cd src/go_tools
  go mod download
  ```

- **Scala система аналитики**
  ```bash
  # Все платформы
  # Установите JDK 11 или выше и sbt
  cd src/scala_analytics
  sbt update
  ```

### 2. Сборка проекта

```bash
# Запустите скрипт сборки
./build.sh
```

### 3. Запуск игры

```bash
# Запустите скрипт запуска
./dist/start.sh  # Linux/macOS
./dist/start.bat  # Windows
```

## Структура проекта

```
tetris_project/
├── build.sh                  # Скрипт сборки
├── docker-compose.yml        # Конфигурация Docker Compose
├── README.md                 # Документация проекта
├── src/                      # Исходный код
│   ├── cpp_physics/          # C++ физический движок
│   ├── rust_server/          # Rust серверная часть
│   ├── python_logic/         # Python игровая логика
│   ├── typescript_client/    # TypeScript клиентская часть
│   ├── julia_ai/             # Julia ИИ система
│   ├── go_tools/             # Go инструменты разработки
│   └── scala_analytics/      # Scala система аналитики
├── docs/                     # Документация
│   ├── architecture.md       # Описание архитектуры
│   ├── integration.md        # Описание интеграции компонентов
│   └── architecture_validation.md # Валидация архитектуры
└── tests/                    # Тесты
    └── run_integration_tests.py # Интеграционные тесты
```

## Архитектура проекта

Проект использует сложную многоязычную архитектуру с различными механизмами межъязыкового взаимодействия:

1. **FFI (Foreign Function Interface)** - для взаимодействия между C++ и Rust
2. **REST API** - для взаимодействия между Rust и Python
3. **WebSocket** - для взаимодействия с клиентской частью на TypeScript
4. **Message Queue** - для асинхронного взаимодействия между компонентами
5. **Shared Memory** - для высокопроизводительного обмена данными

Подробное описание архитектуры можно найти в файле [docs/architecture.md](docs/architecture.md).

## Разработка и тестирование

### Запуск тестов

```bash
# Запуск интеграционных тестов
cd tests
python run_integration_tests.py

# Запуск полного системного теста
./system_test.sh
```

### Добавление новых компонентов

Для добавления новых компонентов следуйте инструкциям в документации по интеграции [docs/integration.md](docs/integration.md).

## Важное примечание о зависимостях

Из архива проекта были исключены следующие тяжеловесные компоненты:

1. Node modules (node_modules) для TypeScript клиента
2. Скомпилированные бинарные файлы
3. Кэши и временные файлы

Для установки JavaScript зависимостей выполните:
```bash
cd src/typescript_client
npm install
```

Для сборки всех компонентов выполните:
```bash
./build.sh
```

## Лицензия

MIT

## Авторы

Manus AI
